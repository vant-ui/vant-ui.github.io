import{b as q,c as P,u as $,R as j,e as F,L as H,p as E,a as K}from"./use-translate-0400f29b.js";import{u as O}from"./use-expose-efcfdee3.js";import{A as B,e as l,y as x,D as L,u as M,q as Y,B as G,j as J,v as Q,r as W,o as X,a as Z,w as a,C as e,g as s,t as d,d as ee,F as te}from"./vue-libs-83dbabed.js";import{b as le}from"./constant-ee6e27d7.js";import{t as S,w as U,n as ae}from"./with-install-a78877b5.js";import{c as I,C as oe}from"./index-3124e750.js";import{u as ne}from"./use-lazy-render-2383afef.js";import{V as ie}from"./index-5a7b6df9.js";import{V as N}from"./index-33a62985.js";import"./use-route-b1061918.js";import"./index-c916422a.js";import"./index-e6476cbd.js";const[z,se]=P("collapse"),D=Symbol(z),de={border:S,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}},re=B({name:z,props:de,emits:["change","update:modelValue"],setup(m,{emit:t,slots:u}){const{linkChildren:_,children:b}=q(D),g=n=>{t("change",n),t("update:modelValue",n)},V=(n,i)=>{const{accordion:o,modelValue:p}=m;g(o?n===p?"":n:i?p.concat(n):p.filter(r=>r!==n))},f=(n={})=>{if(m.accordion)return;typeof n=="boolean"&&(n={expanded:n});const{expanded:i,skipDisabled:o}=n,r=b.filter(y=>y.disabled&&o?y.expanded.value:i??!y.expanded.value).map(y=>y.itemName.value);g(r)},h=n=>{const{accordion:i,modelValue:o}=m;return i?o===n:o.includes(n)};return O({toggleAll:f}),_({toggle:V,isExpanded:h}),()=>{var n;return l("div",{class:[se(),{[le]:m.border}]},[(n=u.default)==null?void 0:n.call(u)])}}}),ue=U(re),k=ue,[ce,T]=P("collapse-item"),me=["icon","title","value","label","right-icon"],fe=F({},I,{name:ae,isLink:S,disabled:Boolean,readonly:Boolean,lazyRender:S}),pe=B({name:ce,props:fe,setup(m,{slots:t}){const u=x(),_=x(),{parent:b,index:g}=$(D);if(!b)return;const V=L(()=>m.name??g.value),f=L(()=>b.isExpanded(V.value)),h=x(f.value),n=ne(()=>h.value||!m.lazyRender),i=()=>{f.value?u.value&&(u.value.style.height=""):h.value=!1};M(f,(v,A)=>{if(A===null)return;v&&(h.value=!0),(v?Y:H)(()=>{if(!_.value||!u.value)return;const{offsetHeight:C}=_.value;if(C){const R=`${C}px`;u.value.style.height=v?"0":R,j(()=>{u.value&&(u.value.style.height=v?R:"0")})}else i()})});const o=(v=!f.value)=>{b.toggle(V.value,v)},p=()=>{!m.disabled&&!m.readonly&&o()},r=()=>{const{border:v,disabled:A,readonly:w}=m,C=E(m,Object.keys(I));return w&&(C.isLink=!1),(A||w)&&(C.clickable=!1),l(oe,G({role:"button",class:T("title",{disabled:A,expanded:f.value,borderless:!v}),"aria-expanded":String(f.value),onClick:p},C),E(t,me))},y=n(()=>{var v;return J(l("div",{ref:u,class:T("wrapper"),onTransitionend:i},[l("div",{ref:_,class:T("content")},[(v=t.default)==null?void 0:v.call(t)])]),[[Q,h.value]])});return O({toggle:o,expanded:f,itemName:V}),()=>l("div",{class:[T({border:g.value&&m.border})]},[r(),y()])}}),ve=U(pe),c=ve,ge={class:"demo-collapse-buttons"},Be=B({__name:"index",setup(m){const t=K({"zh-CN":{text1:"代码是写出来给人看的，附带能在机器上运行。",text2:"技术无非就是那些开发它的人的共同灵魂。",text3:"在代码阅读过程中人们说脏话的频率是衡量代码质量的唯一标准。",accordion:"手风琴",titleSlot:"自定义标题内容",toggleAll:"全部展开与全部切换",openAll:"全部展开",inverse:"全部切换"},"en-US":{text1:"The code is written for people to see and can be run on a machine.",text2:"Technology is nothing more than the common soul of those who develop it.",text3:"The frequency of people swearing during code reading is the only measure of code quality.",accordion:"Accordion",titleSlot:"Custom title",toggleAll:"Toggle All",openAll:"Open All",inverse:"Toggle All"}}),u=x([0]),_=x(0),b=x([]),g=x([]),V=x(["1"]),f=x(),h=()=>{var i,o;(o=(i=f.value)==null?void 0:i.toggleAll)==null||o.call(i,!0)},n=()=>{var i,o;(o=(i=f.value)==null?void 0:i.toggleAll)==null||o.call(i)};return(i,o)=>{const p=W("demo-block");return X(),Z(te,null,[l(p,{title:e(t)("basicUsage")},{default:a(()=>[l(e(k),{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=r=>u.value=r)},{default:a(()=>[l(e(c),{title:e(t)("title")+1},{default:a(()=>[s(d(e(t)("text1")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+2},{default:a(()=>[s(d(e(t)("text2")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+3},{default:a(()=>[s(d(e(t)("text3")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),l(p,{title:e(t)("accordion")},{default:a(()=>[l(e(k),{modelValue:_.value,"onUpdate:modelValue":o[1]||(o[1]=r=>_.value=r),accordion:""},{default:a(()=>[l(e(c),{title:e(t)("title")+1},{default:a(()=>[s(d(e(t)("text1")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+2},{default:a(()=>[s(d(e(t)("text2")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+3},{default:a(()=>[s(d(e(t)("text3")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),l(p,{title:e(t)("disabled")},{default:a(()=>[l(e(k),{modelValue:b.value,"onUpdate:modelValue":o[2]||(o[2]=r=>b.value=r)},{default:a(()=>[l(e(c),{title:e(t)("title")+1},{default:a(()=>[s(d(e(t)("text1")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+2,disabled:""},{default:a(()=>[s(d(e(t)("text2")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+3,disabled:""},{default:a(()=>[s(d(e(t)("text3")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),l(p,{title:e(t)("titleSlot")},{default:a(()=>[l(e(k),{modelValue:g.value,"onUpdate:modelValue":o[3]||(o[3]=r=>g.value=r)},{default:a(()=>[l(e(c),null,{title:a(()=>[s(d(e(t)("title")+1),1),l(e(ie),{name:"question-o"})]),default:a(()=>[s(" "+d(e(t)("text1")),1)]),_:1}),l(e(c),{title:e(t)("title")+2,value:e(t)("content"),icon:"shop-o"},{default:a(()=>[s(d(e(t)("text2")),1)]),_:1},8,["title","value"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),l(p,{title:e(t)("toggleAll")},{default:a(()=>[l(e(k),{modelValue:V.value,"onUpdate:modelValue":o[4]||(o[4]=r=>V.value=r),ref_key:"collapse",ref:f},{default:a(()=>[l(e(c),{title:e(t)("title")+1,name:"1"},{default:a(()=>[s(d(e(t)("text1")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+2,name:"2"},{default:a(()=>[s(d(e(t)("text2")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+3,name:"3"},{default:a(()=>[s(d(e(t)("text3")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),ee("div",ge,[l(e(N),{type:"primary",onClick:h},{default:a(()=>[s(d(e(t)("openAll")),1)]),_:1}),l(e(N),{type:"primary",onClick:n},{default:a(()=>[s(d(e(t)("inverse")),1)]),_:1})])]),_:1},8,["title"])],64)}}});export{Be as default};
