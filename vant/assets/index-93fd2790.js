import{n as R,c as S,a as M}from"./use-translate-982dff2e.js";import{A as I,y as m,M as V,u as D,e as s,r as F,o as L,a as U,w as _,C as e,F as j}from"./vue-libs-6a67f9c6.js";import{c as q,m as f,w as O}from"./with-install-3eab31d5.js";const[G,E]=S("text-ellipsis"),J={rows:q(1),dots:f("..."),content:f(""),expandText:f(""),collapseText:f("")},K=I({name:G,props:J,emits:["clickAction"],setup(o,{emit:t}){const u=m(""),c=m(!1),a=m(!1),y=m(),h=l=>{if(!l)return 0;const x=l.match(/^\d*(\.\d*)?/);return x?Number(x[0]):0},g=()=>{const l=()=>{if(!y.value)return;const d=window.getComputedStyle(y.value),n=document.createElement("div");return Array.prototype.slice.apply(d).forEach(i=>{n.style.setProperty(i,d.getPropertyValue(i))}),n.style.position="fixed",n.style.zIndex="-9999",n.style.top="-9999px",n.style.height="auto",n.style.minHeight="auto",n.style.maxHeight="auto",n.innerText=o.content,document.body.appendChild(n),n},x=(d,n)=>{const{dots:w,content:i,expandText:B}=o;let v=0,T=i.length,k=-1;for(;v<=T;){const p=Math.floor((v+T)/2);d.innerText=i.slice(0,p)+w+B,d.offsetHeight<=n?(v=p+1,k=p):T=p-1}return i.slice(0,k)+w},r=l();if(!r)return;const{paddingBottom:H,paddingTop:P,lineHeight:z}=r.style,C=(Number(o.rows)+.5)*h(z)+h(P)+h(H);C<r.offsetHeight?(a.value=!0,u.value=x(r,C)):(a.value=!1,u.value=o.content),document.body.removeChild(r)},N=l=>{c.value=!c.value,t("clickAction",l)},A=()=>s("span",{class:E("action"),onClick:N},[c.value?o.collapseText:o.expandText]);return V(g),D(()=>[o.content,o.rows],g),R("resize",g),()=>s("div",{ref:y,class:E()},[c.value?o.content:u.value,a.value?A():null])}}),Q=O(K),b=Q,Z=I({__name:"index",setup(o){const t=M({"zh-CN":{text1:"慢慢来，不要急，生活给你出了难题，可也终有一天会给出答案。",text2:"似水流年是一个人所有的一切，只有这个东西，才真正归你所有。其余的一切，都是片刻的欢娱和不幸，转眼间就已跑到那似水流年里去了。",text3:"那一天我二十一岁，在我一生的黄金时代。我有好多奢望。我想爱，想吃，还想在一瞬间变成天上半明半暗的云。后来我才知道，生活就是个缓慢受锤的过程，人一天天老下去，奢望也一天天消失，最后变得像挨了锤的牛一样。可是我过二十一岁生日时没有预见到这一点。我觉得自己会永远生猛下去，什么也锤不了我。",expandText:"展开",collapseText:"收起",expandCollapse:"展开/收起",customRows:"自定义展示行数"},"en-US":{text1:"Take your time and be patient. Life itself will eventually answer all those questions it once raised for you.",text2:"The fleeting time of one's life is everything that belongs to a person. Only this thing truly belongs to you. Everything else is just a momentary pleasure or misfortune, which will soon be gone with the passing of time.",text3:"That day, I turned twenty-one. In the golden age of my life, I was full of dreams. I wanted to love, to eat, and to instantly transform into one of these clouds, part alight, part darkened. It was only later that I understood life is but a slow, drawn-out process of getting your balls crushed. Day by day, you get older. Day by day, your dreams fade. In the end you are no different from a crushed ox. But I hadn't foreseen any of it on my twenty-first birthday. I thought I would be vigorous forever, and that nothing could ever crush me.",expandText:"expand",collapseText:"collapse",expandCollapse:"Expand/Collapse",customRows:"Customize Rows"}});return(u,c)=>{const a=F("demo-block");return L(),U(j,null,[s(a,{title:e(t)("basicUsage")},{default:_(()=>[s(e(b),{content:e(t)("text1")},null,8,["content"])]),_:1},8,["title"]),s(a,{title:e(t)("expandCollapse")},{default:_(()=>[s(e(b),{content:e(t)("text2"),"expand-text":e(t)("expandText"),"collapse-text":e(t)("collapseText")},null,8,["content","expand-text","collapse-text"])]),_:1},8,["title"]),s(a,{title:e(t)("customRows")},{default:_(()=>[s(e(b),{rows:"3",content:e(t)("text3"),"expand-text":e(t)("expandText"),"collapse-text":e(t)("collapseText")},null,8,["content","expand-text","collapse-text"])]),_:1},8,["title"])],64)}}});export{Z as default};
